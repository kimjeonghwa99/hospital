<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Hospital ERP - Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f3f5ff;
    }

    .topbar {
      background: #4b53d3;
      color: #fff;
      padding: 14px 18px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .wrap {
      max-width: 1200px;
      margin: 20px auto;
      padding: 0 16px;
      display: grid;
      grid-template-columns: 240px 1fr 320px;
      gap: 16px;
    }

    .card {
      background: #fff;
      border-radius: 16px;
      padding: 14px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.08);
    }

    .menu a {
      display: block;
      padding: 10px;
      margin-bottom: 8px;
      background: #f6f7ff;
      border-radius: 10px;
      text-decoration: none;
      color: #222;
    }

    .menu a:hover { background: #eceeff; }

    /* ===== ë©”ëª¨ ===== */
    .memo-list {
      max-height: 300px;
      overflow-y: auto;
      font-size: 13px;
    }

    .memo {
      border-bottom: 1px solid #eee;
      padding: 8px 0;
    }

    .memo .from {
      font-weight: bold;
      font-size: 12px;
    }

    .memo .time {
      font-size: 11px;
      color: #666;
    }

    .memo-form textarea {
      width: 100%;
      height: 70px;
      border-radius: 10px;
      border: 1px solid #ccc;
      padding: 8px;
      resize: none;
    }

    .memo-form button {
      width: 100%;
      margin-top: 6px;
      padding: 10px;
      border: none;
      border-radius: 10px;
      background: #4b53d3;
      color: #fff;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="topbar">
  <div>Hospital ERP</div>
  <div id="userInfo"></div>
</div>

<div class="wrap">

  <!-- ë©”ë‰´ -->
  <div class="card menu">
    <a href="#">ê·¼íƒœ(ì¶œí‡´ê·¼)</a>
    <a href="#">ì§ì› ê´€ë¦¬</a>
    <a href="#">í™˜ì/ìƒë‹´</a>
    <a href="#">ì˜ˆì•½</a>
    <a href="#">ì„¤ì •</a>
  </div>

  <!-- ë©”ì¸ -->
  <div class="card">
    <h2 id="welcomeTitle">ëŒ€ì‹œë³´ë“œ</h2>
    <p>ì´ˆê¸° ê°œë°œ ë‹¨ê³„(ë°ëª¨)</p>
  </div>

  <!-- ìª½ì§€ -->
  <div class="card">
    <h3>ğŸ“¨ ë‚´ë¶€ ìª½ì§€</h3>
    <div class="memo-list" id="memoList"></div>

    <div class="memo-form">
      <textarea id="memoInput" placeholder="ì˜ì‚¬ / ê°„í˜¸ì‚¬ / ìƒë‹´ì‹¤ì¥ì—ê²Œ ì „ë‹¬í•  ë©”ëª¨"></textarea>
      <button id="sendMemoBtn">ìª½ì§€ ë³´ë‚´ê¸°</button>
    </div>
  </div>

</div>

<script src="js/memo.js"></script>
<script>
  // ë¡œê·¸ì¸ ì²´í¬
  if (!localStorage.getItem('auth_token')) {
    location.href = './login.html';
  }

  const name = localStorage.getItem('demo_user_name') || 'ì‚¬ìš©ì';
  const email = localStorage.getItem('demo_user_email') || '';
  document.getElementById('userInfo').textContent =
    email ? `${name} (${email})` : name;

  document.getElementById('welcomeTitle').textContent =
    `${name}ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤`;
</script>

</body>
</html>
